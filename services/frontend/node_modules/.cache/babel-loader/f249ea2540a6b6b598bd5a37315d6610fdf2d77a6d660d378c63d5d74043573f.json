{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, Fragment as _Fragment, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_2 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_BirthdayForm = _resolveComponent(\"BirthdayForm\");\n  const _component_UserInfo = _resolveComponent(\"UserInfo\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    id: \"app\",\n    style: _normalizeStyle({\n      backgroundColor: $data.backgroundColor\n    })\n  }, [!$data.isValidWebApp ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \" Это приложение можно открыть только через Telegram \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [!$data.sharedData ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [!$data.birthday ? (_openBlock(), _createBlock(_component_BirthdayForm, {\n    key: 0,\n    onBirthdaySubmitted: $options.setBirthday\n  }, null, 8 /* PROPS */, [\"onBirthdaySubmitted\"])) : (_openBlock(), _createBlock(_component_UserInfo, {\n    key: 1,\n    userInfo: $data.userInfo,\n    birthday: $data.birthday\n  }, null, 8 /* PROPS */, [\"userInfo\", \"birthday\"]))], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createBlock(_component_UserInfo, {\n    key: 1,\n    userInfo: $data.sharedData.userInfo,\n    birthday: $data.sharedData.birthday\n  }, null, 8 /* PROPS */, [\"userInfo\", \"birthday\"]))]))], 4 /* STYLE */);\n}","map":{"version":3,"names":["key","class","_createElementBlock","id","style","_normalizeStyle","backgroundColor","$data","isValidWebApp","_hoisted_1","_hoisted_2","sharedData","_Fragment","birthday","_createBlock","_component_BirthdayForm","onBirthdaySubmitted","$options","setBirthday","_component_UserInfo","userInfo"],"sources":["/Users/wiquzix/Desktop/tzrobita/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" :style=\"{ backgroundColor: backgroundColor }\">\n    <div v-if=\"!isValidWebApp\" class=\"error-message\">\n      Это приложение можно открыть только через Telegram\n    </div>\n    <div v-else>\n      <template v-if=\"!sharedData\">\n        <BirthdayForm \n          v-if=\"!birthday\"\n          @birthday-submitted=\"setBirthday\"\n        />\n        <UserInfo\n          v-else\n          :userInfo=\"userInfo\"\n          :birthday=\"birthday\"\n        />\n      </template>\n      <template v-else>\n        <UserInfo\n          :userInfo=\"sharedData.userInfo\"\n          :birthday=\"sharedData.birthday\"\n        />\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BirthdayForm from './components/BirthdayForm.vue'\nimport UserInfo from './components/UserInfo.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    BirthdayForm,\n    UserInfo\n  },\n  data() {\n    return {\n      birthday: '',\n      userInfo: null,\n      backgroundColor: '#ffffff',\n      isValidWebApp: false,\n      tg: null,\n      sharedData: null\n    }\n  },\n  mounted() {\n    // Проверяем, открыто ли приложение в Telegram\n    if (window.Telegram && window.Telegram.WebApp) {\n      this.tg = window.Telegram.WebApp;\n      this.isValidWebApp = true;\n      \n      // Инициализация Telegram Web App\n      this.tg.ready();\n      this.tg.expand();\n\n      // Получаем информацию о пользователе\n      this.userInfo = this.tg.initDataUnsafe.user;\n      \n      // Используем цвет темы из Telegram\n      this.backgroundColor = this.tg.backgroundColor;\n\n      // Проверяем, есть ли параметры шаринга в URL\n      const urlParams = new URLSearchParams(window.location.search);\n      const shareId = urlParams.get('shareId');\n      if (shareId) {\n        // Здесь можно добавить запрос к бэкенду для получения данных по shareId\n        // Пока используем моковые данные\n        this.sharedData = {\n          userInfo: this.userInfo,\n          birthday: '2000-01-01'\n        };\n      }\n    }\n  },\n  methods: {\n    setBirthday(date) {\n      this.birthday = date;\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Arial, sans-serif;\n  min-height: 100vh;\n  padding: 20px;\n  color: var(--tg-theme-text-color, #000000);\n}\n\n.error-message {\n  color: red;\n  padding: 20px;\n  text-align: center;\n}\n\nh2 {\n  text-align: center;\n  margin-bottom: 20px;\n  color: var(--tg-theme-text-color, #000000);\n}\n</style>\n  \n  "],"mappings":";;EAAAA,GAAA;EAE+BC,KAAK,EAAC;;;EAFrCD,GAAA;AAAA;;;;uBACEE,mBAAA,CAuBM;IAvBDC,EAAE,EAAC,KAAK;IAAEC,KAAK,EADtBC,eAAA;MAAAC,eAAA,EAC2CC,KAAA,CAAAD;IAAe;OAC1CC,KAAA,CAAAC,aAAa,I,cAAzBN,mBAAA,CAEM,OAFNO,UAEM,EAF2C,sDAEjD,M,cACAP,mBAAA,CAkBM,OAvBVQ,UAAA,G,CAMuBH,KAAA,CAAAI,UAAU,I,cAA3BT,mBAAA,CAUWU,SAAA;IAhBjBZ,GAAA;EAAA,I,CAQiBO,KAAA,CAAAM,QAAQ,I,cADjBC,YAAA,CAGEC,uBAAA;IAVVf,GAAA;IASWgB,mBAAkB,EAAEC,QAAA,CAAAC;qEAEvBJ,YAAA,CAIEK,mBAAA;IAfVnB,GAAA;IAaWoB,QAAQ,EAAEb,KAAA,CAAAa,QAAQ;IAClBP,QAAQ,EAAEN,KAAA,CAAAM;mGAIbC,YAAA,CAGEK,mBAAA;IArBVnB,GAAA;IAmBWoB,QAAQ,EAAEb,KAAA,CAAAI,UAAU,CAACS,QAAQ;IAC7BP,QAAQ,EAAEN,KAAA,CAAAI,UAAU,CAACE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}